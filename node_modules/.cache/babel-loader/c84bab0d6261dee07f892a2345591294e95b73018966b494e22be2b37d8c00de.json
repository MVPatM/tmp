{"ast":null,"code":"import _toConsumableArray from\"C:/Users/hsy99/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/prj1/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/hsy99/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/prj1/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hsy99/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/prj1/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hsy99/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/prj1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import styles from\"./integratenftcss.module.css\";import apiClient from'../utils/axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function IntegrateNFT(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nftList=_useState2[0],setnftList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),selectedNum=_useState4[0],setSelectedNum=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectednftList=_useState6[0],setselectednftList=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];useEffect(function(){//get my info\napiClient.get(\"/integrateNFT\").then(function(res){setnftList(res.data.nfts);setselectednftList(Array(nftList.length).fill(false));}).catch(function(err){alert(\"\".concat(err));});},[]);var sendNFT=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var sendList,i,sendList1,_i,payload;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:sendList=[];for(i=0;i<nftList.length;i++){if(selectednftList[i]===true){sendList.push(nftList[i].tokenURI);}}sendList1=[];for(_i=0;_i<nftList.length;_i++){if(selectednftList[_i]===true){sendList1.push(nftList[_i].tokenId);}}payload={tokenURI:sendList,tokenId:sendList1};_context.next=7;return apiClient.post(\"/integrateNFT/mint\",payload).then(function(res){if(res.data.isSuccess===true){setResult(res.data.nft);alert('Integrated NFT mint success');}else if(res.data.isSuccess===false){alert(\"\".concat(res.data.msg));}}).catch(function(err){alert(\"Integrated NFT Mint error \".concat(err));});case 7:case\"end\":return _context.stop();}},_callee);}));return function sendNFT(){return _ref.apply(this,arguments);};}();var changeSelectednftList=function changeSelectednftList(index){var copyList=_toConsumableArray(selectednftList);copyList[index]=!copyList[index];if(copyList[index])setSelectedNum(selectedNum+1);else setSelectedNum(selectedNum-1);console.log(copyList[index]);setselectednftList(copyList);};var RenderNFTList=function RenderNFTList(){return nftList.map(function(nft,idx){return/*#__PURE__*/_jsxs(\"button\",{className:\"\".concat(styles.nftcomponent,\" \").concat(selectednftList[idx]?styles.selected:\"\"),onClick:function onClick(){return changeSelectednftList(idx);},children:[nft.tokenId,\" \\uC758 NFT\"]},idx);});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.integratenft,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.nftinfo,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.result,children:[\"RESULT MetaData\",result!==null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"tokenId : \",result.tokenId]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Column : \",result.metaData.columns.join(\", \")]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Data size : \",result.metaData.dataSize]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Null Ratio : \",result.metaData.nullRatio]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:styles.makebutton,children:\"Make Integrated NFT\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.nftlist,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:\"NFT LIST\"}),RenderNFTList(),/*#__PURE__*/_jsxs(\"button\",{className:styles.integratebutton,onClick:sendNFT,children:[\"Integrate \",selectedNum,\" NFT\"]})]})]});}export default IntegrateNFT;","map":{"version":3,"names":["React","useState","useEffect","styles","apiClient","jsxs","_jsxs","jsx","_jsx","IntegrateNFT","_useState","_useState2","_slicedToArray","nftList","setnftList","_useState3","_useState4","selectedNum","setSelectedNum","_useState5","_useState6","selectednftList","setselectednftList","_useState7","_useState8","result","setResult","get","then","res","data","nfts","Array","length","fill","catch","err","alert","concat","sendNFT","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sendList","i","sendList1","_i","payload","wrap","_callee$","_context","prev","next","push","tokenURI","tokenId","post","isSuccess","nft","msg","stop","apply","arguments","changeSelectednftList","index","copyList","_toConsumableArray","console","log","RenderNFTList","map","idx","className","nftcomponent","selected","onClick","children","integratenft","nftinfo","metaData","columns","join","dataSize","nullRatio","makebutton","nftlist","title","integratebutton"],"sources":["C:/Users/hsy99/OneDrive/바탕 화면/prj1/client/src/components/IntegrateNFT/IntegrateNFT.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styles from \"./integratenftcss.module.css\";\r\nimport apiClient from '../utils/axios';\r\n\r\n\r\nfunction IntegrateNFT(){\r\n    const [nftList, setnftList] = useState([]);\r\n    const [selectedNum, setSelectedNum] = useState(0);\r\n    const [selectednftList, setselectednftList] = useState([]);\r\n    const [result, setResult] = useState(null);\r\n\r\n    useEffect(() => {\r\n        //get my info\r\n        apiClient\r\n          .get(\"/integrateNFT\")\r\n          .then((res) => {\r\n            setnftList(res.data.nfts);\r\n            setselectednftList(Array(nftList.length).fill(false));\r\n          })\r\n          .catch((err) => {\r\n            alert(`${err}`);\r\n          });\r\n      }, []);\r\n\r\n    const sendNFT = async () => {\r\n        let sendList = [];\r\n        for(let i = 0; i < nftList.length; i ++){\r\n            if(selectednftList[i] === true){\r\n                sendList.push(nftList[i].tokenURI);\r\n            }\r\n        }\r\n\r\n        let sendList1 = [];\r\n        for(let i = 0; i < nftList.length; i ++){\r\n            if(selectednftList[i] === true){\r\n                sendList1.push(nftList[i].tokenId);\r\n            }\r\n        }\r\n\r\n        const payload = {\r\n            tokenURI : sendList,\r\n            tokenId : sendList1\r\n        }\r\n\r\n        await apiClient.post(\"/integrateNFT/mint\", payload)\r\n            .then((res) => {\r\n                if (res.data.isSuccess === true){\r\n                    setResult(res.data.nft);\r\n                    alert('Integrated NFT mint success');\r\n                }\r\n                else if (res.data.isSuccess === false) {\r\n                    alert(`${res.data.msg}`);\r\n                }\r\n            })\r\n            .catch ((err) => {\r\n                alert(`Integrated NFT Mint error ${err}`);\r\n            })\r\n    }\r\n\r\n\r\n    const changeSelectednftList = (index) => {\r\n        let copyList = [...selectednftList];\r\n        copyList[index] = !copyList[index];\r\n        if(copyList[index]) setSelectedNum(selectedNum + 1);\r\n        else setSelectedNum(selectedNum - 1);\r\n        console.log(copyList[index]);\r\n        setselectednftList(copyList);\r\n    }\r\n\r\n    const RenderNFTList = () => {\r\n        return nftList.map((nft, idx) => (\r\n                <button key = {idx} className = {`${styles.nftcomponent} ${selectednftList[idx] ? styles.selected : \"\"}`} onClick = {() => changeSelectednftList(idx)}>\r\n                    {nft.tokenId} 의 NFT\r\n                </button>\r\n            ))\r\n    }\r\n\r\n    return (\r\n        <div className={styles.integratenft}>\r\n            <div className={styles.nftinfo}>\r\n                <div className={styles.result}>\r\n                    RESULT MetaData\r\n                    {result !== null && <div>\r\n                        <div>tokenId : {result.tokenId}</div>\r\n                        <div>Column : {result.metaData.columns.join(\", \")}</div>\r\n                        <div>Data size : {result.metaData.dataSize}</div>\r\n                        <div>Null Ratio : {result.metaData.nullRatio}</div>\r\n                        </div>}\r\n                </div>\r\n                <button className={styles.makebutton}>\r\n                    Make Integrated NFT\r\n                </button>\r\n            </div>\r\n            <div className={styles.nftlist}>\r\n                <div className = {styles.title}>NFT LIST</div>\r\n                {RenderNFTList()}\r\n                <button className = {styles.integratebutton} onClick = {sendNFT}>\r\n                    Integrate {selectedNum} NFT\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default IntegrateNFT;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}