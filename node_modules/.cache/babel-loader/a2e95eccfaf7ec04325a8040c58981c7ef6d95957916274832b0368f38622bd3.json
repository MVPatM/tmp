{"ast":null,"code":"import _slicedToArray from\"C:/Users/hsy99/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/prj1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import styles from\"./searchnftcss.module.css\";import apiClient from'../utils/axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function SearchNFT(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nftList=_useState2[0],setnftList=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),nftIndex=_useState4[0],setnftIndex=_useState4[1];useEffect(function(){//get my info\napiClient.get(\"/SearchNFT\").then(function(res){setnftList(res.data.nfts);}).catch(function(err){alert(\"\".concat(err));});},[]);var searching=function searching(event){event.preventDefault();var data=new FormData(event.currentTarget);var payload={tokenId:data.get(\"tokenId\"),tokenURI:data.get(\"tokenURI\")};apiClient.post(\"/SearchNFT/search\").then(function(res){setnftList(res.data);}).catch(function(e){console.log(e);});};var RenderNFTList=function RenderNFTList(){return nftList.map(function(nft,idx){return/*#__PURE__*/_jsxs(\"div\",{className:styles.nftcomponent,onClick:function onClick(){return setnftIndex(idx);},children:[nft.owner,\"\\uC758 NFT\"]},idx);});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.searchnft,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.nftinfo,children:[nftList.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:styles.nftmetadata,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.ownertitle,children:[nftList[nftIndex].tokenId,\"\\uC758 NFT\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"-tokenId : \",nftList[nftIndex].tokenId]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"-Colunm : \",nftList[nftIndex].metaData.columns]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"-Data size : \",nftList[nftIndex].metaData.dataSize]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"-Null Ratio : \",nftList[nftIndex].metaData.nullRatio]})]}),nftList.length>0&&/*#__PURE__*/_jsx(\"button\",{className:styles.buybutton,children:\"Buy NFT\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.search,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:searching,className:styles.inputcontainer,children:[/*#__PURE__*/_jsx(\"input\",{className:styles.input,id:\"tokenId\"}),/*#__PURE__*/_jsx(\"button\",{className:styles.searchbutton,type:\"submit\",children:\"Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.searchlist,children:RenderNFTList()})]})]});}export default SearchNFT;","map":{"version":3,"names":["React","useState","useEffect","styles","apiClient","jsxs","_jsxs","jsx","_jsx","SearchNFT","_useState","_useState2","_slicedToArray","nftList","setnftList","_useState3","_useState4","nftIndex","setnftIndex","get","then","res","data","nfts","catch","err","alert","concat","searching","event","preventDefault","FormData","currentTarget","payload","tokenId","tokenURI","post","e","console","log","RenderNFTList","map","nft","idx","className","nftcomponent","onClick","children","owner","searchnft","nftinfo","length","nftmetadata","ownertitle","metaData","columns","dataSize","nullRatio","buybutton","search","onSubmit","inputcontainer","input","id","searchbutton","type","searchlist"],"sources":["C:/Users/hsy99/OneDrive/바탕 화면/prj1/client/src/components/SearchNFT/SearchNFT.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styles from \"./searchnftcss.module.css\";\r\nimport apiClient from '../utils/axios';\r\n\r\n\r\nfunction SearchNFT(){\r\n    const [nftList, setnftList] = useState([]);\r\n    const [nftIndex, setnftIndex] = useState(0);\r\n    useEffect(() => {\r\n        //get my info\r\n        apiClient\r\n          .get(\"/SearchNFT\")\r\n          .then((res) => {\r\n            setnftList(res.data.nfts);\r\n          })\r\n          .catch((err) => {\r\n            alert(`${err}`)\r\n          });\r\n      }, []);\r\n\r\n    const searching = (event) => {\r\n        event.preventDefault();\r\n        const data = new FormData(event.currentTarget);\r\n        const payload = {\r\n            tokenId : data.get(\"tokenId\"),\r\n            tokenURI : data.get(\"tokenURI\")\r\n        }\r\n        apiClient\r\n            .post(\"/SearchNFT/search\")\r\n            .then((res) => {\r\n                setnftList(res.data);\r\n            })\r\n            .catch((e) => {\r\n                console.log(e);\r\n            });\r\n        \r\n    }\r\n\r\n    const RenderNFTList = () => {\r\n        return nftList.map((nft, idx) => (\r\n                <div key = {idx} className = {styles.nftcomponent} onClick = {() => setnftIndex(idx)}>\r\n                    {nft.owner}의 NFT\r\n                </div>\r\n            ))\r\n    }\r\n    return (\r\n        <div className = {styles.searchnft}>\r\n            <div className={styles.nftinfo}>\r\n                {nftList.length > 0 && <div className={styles.nftmetadata}>\r\n                <div className = {styles.ownertitle}>{nftList[nftIndex].tokenId}의 NFT</div>\r\n                <div>-tokenId : {nftList[nftIndex].tokenId}</div>\r\n                <div>-Colunm : {nftList[nftIndex].metaData.columns}</div>\r\n                <div>-Data size : {nftList[nftIndex].metaData.dataSize}</div>\r\n                <div>-Null Ratio : {nftList[nftIndex].metaData.nullRatio}</div>\r\n                </div>}\r\n                {nftList.length > 0 && <button className={styles.buybutton}>Buy NFT</button>}\r\n            </div>\r\n            <div className={styles.search}>\r\n                <div>\r\n                    <form onSubmit={searching} className={styles.inputcontainer}>\r\n                    <input className = {styles.input} id = \"tokenId\">\r\n\r\n                    </input>\r\n                    <button className = {styles.searchbutton} type = \"submit\">\r\n                        Search\r\n                    </button>\r\n                    </form>\r\n                </div>\r\n                <div className={styles.searchlist}>\r\n                    {RenderNFTList()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchNFT;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}